<!DOCTYPE html>
<html lang="id" dir="ltr">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>SerlokTakParani - Platform Curhat Online Anonim</title>
  <meta name="description" content="Platform untuk berbagi cerita dan pengalaman secara anonim dengan dukungan lokasi">
  <meta name="theme-color" content="#4a148c">
  <meta http-equiv="Service-Worker-Allowed" content="/">
  <link rel="manifest" href="/manifest.webmanifest">
  <link rel="modulepreload" href="data:text/javascript;base64,aW1wb3J0IHsgSG9tZU1vZGVsIH0gZnJvbSAnLi4vZGF0YS9tb2RlbHMvaG9tZS1tb2RlbC5qcyc7CmltcG9ydCB7IEF1dGhNb2RlbCB9IGZyb20gJy4uL2RhdGEvbW9kZWxzL2F1dGgtbW9kZWwuanMnOwppbXBvcnQgeyBTdG9yeU1vZGVsIH0gZnJvbSAnLi4vZGF0YS9tb2RlbHMvc3RvcnktbW9kZWwuanMnOwppbXBvcnQgeyBIb21lUHJlc2VudGVyIH0gZnJvbSAnLi4vLi4vcHJlc2VudGVycy9ob21lLXByZXNlbnRlci5qcyc7CmltcG9ydCB7IEF1dGhQcmVzZW50ZXIgfSBmcm9tICcuLi8uLi9wcmVzZW50ZXJzL2F1dGgtcHJlc2VudGVyLmpzJzsKaW1wb3J0IHsgU3RvcnlQcmVzZW50ZXIgfSBmcm9tICcuLi8uLi9wcmVzZW50ZXJzL3N0b3J5LXByZXNlbnRlci5qcyc7CmltcG9ydCB7IEhvbWVWaWV3IH0gZnJvbSAnLi4vLi4vdmlld3MvaG9tZS9ob21lLXZpZXcuanMnOwppbXBvcnQgeyBMb2dpblZpZXcgfSBmcm9tICcuLi8uLi92aWV3cy9hdXRoL2xvZ2luLXZpZXcuanMnOwppbXBvcnQgeyBSZWdpc3RlclZpZXcgfSBmcm9tICcuLi8uLi92aWV3cy9hdXRoL3JlZ2lzdGVyLXZpZXcuanMnOwppbXBvcnQgeyBBZGRTdG9yeVZpZXcgfSBmcm9tICcuLi8uLi92aWV3cy9zdG9yeS9hZGQtc3Rvcnktdmlldy5qcyc7CmltcG9ydCB7IERldGFpbFN0b3J5VmlldyB9IGZyb20gJy4uLy4uL3ZpZXdzL3N0b3J5L2RldGFpbC1zdG9yeS12aWV3LmpzJzsKCmNvbnN0IGF1dGhNb2RlbCA9IG5ldyBBdXRoTW9kZWwoKTsgCgpjb25zdCByb3V0ZXMgPSB7CiAgJy9ob21lJzogYXN5bmMgKCkgPT4gewogICAgaWYgKHdpbmRvdy5jdXJyZW50VmlldyAmJiB3aW5kb3cuY3VycmVudFZpZXcuc3RvcENhbWVyYSkgewogICAgICB3aW5kb3cuY3VycmVudFZpZXcuc3RvcENhbWVyYSgpOyAKICAgIH0KCiAgICBjb25zdCBtb2RlbCA9IG5ldyBIb21lTW9kZWwoKTsKICAgIGNvbnN0IHZpZXcgPSBuZXcgSG9tZVZpZXcoKTsKICAgIGNvbnN0IHByZXNlbnRlciA9IG5ldyBIb21lUHJlc2VudGVyKHZpZXcsIG1vZGVsLCBhdXRoTW9kZWwpOwogICAgYXdhaXQgcHJlc2VudGVyLmluaXQoKTsKICAgIHdpbmRvdy5jdXJyZW50VmlldyA9IHZpZXc7CiAgfSwKICAnL2xvZ2luJzogKCkgPT4gewogICAgY29uc3QgbW9kZWwgPSBhdXRoTW9kZWw7CiAgICBjb25zdCB2aWV3ID0gbmV3IExvZ2luVmlldygpOwogICAgY29uc3QgcHJlc2VudGVyID0gbmV3IEF1dGhQcmVzZW50ZXIobW9kZWwpOwoKICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5pbm5lckhUTUwgPSAnJzsKICAgIHByZXNlbnRlci5pbml0TG9naW4odmlldyk7CiAgICB3aW5kb3cuY3VycmVudFZpZXcgPSB2aWV3OyAKICB9LAogICcvcmVnaXN0ZXInOiAoKSA9PiB7CiAgICBjb25zdCBtb2RlbCA9IGF1dGhNb2RlbDsKICAgIGNvbnN0IHZpZXcgPSBuZXcgUmVnaXN0ZXJWaWV3KCk7CiAgICBjb25zdCBwcmVzZW50ZXIgPSBuZXcgQXV0aFByZXNlbnRlcihtb2RlbCk7CgogICAgZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbWFpbicpLmlubmVySFRNTCA9ICcnOwogICAgcHJlc2VudGVyLmluaXRSZWdpc3Rlcih2aWV3KTsKICAgIHdpbmRvdy5jdXJyZW50VmlldyA9IHZpZXc7IAogIH0sCiAgJy9hZGQtc3RvcnknOiBhc3luYyAoYXV0aE1vZGVsKSA9PiB7CiAgICBjb25zdCBtb2RlbCA9IG5ldyBTdG9yeU1vZGVsKCk7CiAgICBjb25zdCB2aWV3ID0gbmV3IEFkZFN0b3J5VmlldygpOwogICAgY29uc3QgcHJlc2VudGVyID0gbmV3IFN0b3J5UHJlc2VudGVyKG1vZGVsLCBhdXRoTW9kZWwpOwogICAgYXdhaXQgcHJlc2VudGVyLmluaXRBZGRTdG9yeSh2aWV3KTsKCiAgICB3aW5kb3cuY3VycmVudFZpZXcgPSB2aWV3OwogIH0sCiAgJy9kZXRhaWwtc3RvcnknOiBhc3luYyAoYXV0aE1vZGVsKSA9PiB7CiAgICBjb25zdCB1cmxQYXJhbXMgPSBuZXcgVVJMU2VhcmNoUGFyYW1zKHdpbmRvdy5sb2NhdGlvbi5zZWFyY2gpOwogICAgY29uc3Qgc3RvcnlJZCA9IHVybFBhcmFtcy5nZXQoJ2lkJyk7CgogICAgaWYgKCFzdG9yeUlkKSB7CiAgICAgIGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJ21haW4nKS5pbm5lckhUTUwgPSAnPHAgY2xhc3M9ImVycm9yIj5DdXJoYXQgdGlkYWsgZGl0ZW11a2FuLjwvcD4nOwogICAgICByZXR1cm47CiAgICB9CgogICAgY29uc3QgbW9kZWwgPSBuZXcgU3RvcnlNb2RlbCgpOwogICAgY29uc3QgdmlldyA9IG5ldyBEZXRhaWxTdG9yeVZpZXcoKTsKICAgIGNvbnN0IHByZXNlbnRlciA9IG5ldyBTdG9yeVByZXNlbnRlcihtb2RlbCk7CiAgICBhd2FpdCBwcmVzZW50ZXIuaW5pdERldGFpbFN0b3J5KHZpZXcsIHN0b3J5SWQpOwogICAgd2luZG93LmN1cnJlbnRWaWV3ID0gdmlldzsgCiAgfQp9OwoKY29uc3Qgcm91dGVyID0gYXN5bmMgKCkgPT4gewogIGNvbnN0IG1haW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdtYWluJyk7CiAgY29uc3QgcGF0aCA9IHdpbmRvdy5sb2NhdGlvbi5oYXNoLnNsaWNlKDEpIHx8ICcvaG9tZSc7CgogIGNvbnN0IHByb3RlY3RlZFJvdXRlcyA9IFsnL2hvbWUnLCAnL2FkZC1zdG9yeScsICcvZGV0YWlsLXN0b3J5J107CiAgY29uc3QgYXV0aFBhZ2VzID0gWycvbG9naW4nLCAnL3JlZ2lzdGVyJ107CgogIGNvbnN0IGlzUHJvdGVjdGVkID0gcHJvdGVjdGVkUm91dGVzLmluY2x1ZGVzKHBhdGgpOwogIGNvbnN0IGlzQXV0aFBhZ2UgPSBhdXRoUGFnZXMuaW5jbHVkZXMocGF0aCk7CgogIGNvbnN0IHVzZXJMb2dnZWRJbiA9IGF1dGhNb2RlbC5pc0xvZ2dlZEluKCk7CgogIGlmIChpc1Byb3RlY3RlZCAmJiAhdXNlckxvZ2dlZEluKSB7CiAgICB3aW5kb3cubG9jYXRpb24uaGFzaCA9ICcjL2xvZ2luJzsKICAgIHJldHVybjsKICB9CgogIGlmIChpc0F1dGhQYWdlICYmIHVzZXJMb2dnZWRJbikgewogICAgd2luZG93LmxvY2F0aW9uLmhhc2ggPSAnIy9ob21lJzsKICAgIHJldHVybjsKICB9CgogIGlmICh0eXBlb2Ygcm91dGVzW3BhdGhdICE9PSAnZnVuY3Rpb24nKSB7CiAgICBtYWluLmlubmVySFRNTCA9IGAKICAgICAgPHNlY3Rpb24gY2xhc3M9Im5vdC1mb3VuZCI+CiAgICAgICAgPGgxPjQwNCAtIEhhbGFtYW4gdGlkYWsgZGl0ZW11a2FuPC9oMT4KICAgICAgICA8cD5NYWFmLCBoYWxhbWFuIHlhbmcga2FtdSBjYXJpIHRpZGFrIHRlcnNlZGlhLjwvcD4KICAgICAgICA8YSBocmVmPSIjL2hvbWUiPuKshe+4jyBLZW1iYWxpIGtlIEJlcmFuZGE8L2E+CiAgICAgIDwvc2VjdGlvbj4KICAgIGA7CiAgICByZXR1cm47CiAgfQoKICBpZiAoIWRvY3VtZW50LnN0YXJ0Vmlld1RyYW5zaXRpb24pIHsKICAgIG1haW4uaW5uZXJIVE1MID0gJyc7CiAgICBhd2FpdCByb3V0ZXNbcGF0aF0oYXV0aE1vZGVsKTsKICAgIHJldHVybjsKICB9CgogIGNvbnN0IHRyYW5zaXRpb24gPSBkb2N1bWVudC5zdGFydFZpZXdUcmFuc2l0aW9uKGFzeW5jICgpID0+IHsKICAgIG1haW4uaW5uZXJIVE1MID0gJyc7CiAgICBhd2FpdCByb3V0ZXNbcGF0aF0oYXV0aE1vZGVsKTsKICB9KTsKCiAgdHJ5IHsKICAgIGF3YWl0IHRyYW5zaXRpb24uZmluaXNoZWQ7CiAgfSBjYXRjaCAoZXJyb3IpIHsKICAgIGNvbnNvbGUuZXJyb3IoJ1ZpZXcgdHJhbnNpdGlvbiBmYWlsZWQ6JywgZXJyb3IpOwogIH0KfTsKCgp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignYXV0aC1jaGFuZ2UnLCByb3V0ZXIpOwoKd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoJ2hhc2hjaGFuZ2UnLCByb3V0ZXIpOwp3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcignbG9hZCcsIHJvdXRlcik7Cg==" as="script">
  <link rel="icon" href="/images/favicon.png" type="image/png">
  <link rel="icon" href="/images/favicon.svg" type="image/svg+xml">
  <link rel="apple-touch-icon" href="/images/apple-touch-icon.png">
  <style>
    .visually-hidden {
      position: absolute;
      width: 1px;
      height: 1px;
      padding: 0;
      margin: -1px;
      overflow: hidden;
      clip: rect(0, 0, 0, 0);
      white-space: nowrap;
      border: 0;
    }

    .skip-link {
      position: absolute;
      top: -40px;
      left: 0;
      background: #1e293b;
      color: white;
      padding: 0.75rem 1.5rem;
      z-index: 9999;
      transition: transform 0.3s ease;
      border-radius: 0 0 0.25rem 0;
      font-weight: bold;
    }

    .skip-link:focus-visible {
      transform: translateY(40px);
      outline: 3px solid #ffffff;
      outline-offset: -3px;
    }

    [role="main"]:focus-visible,
    a:focus-visible,
    button:focus-visible,
    input:focus-visible,
    textarea:focus-visible,
    select:focus-visible {
      outline: 3px solid #2563eb;
      outline-offset: 3px;
    }

    @media (prefers-reduced-motion: reduce) {
      * {
        animation-duration: 0.01ms !important;
        animation-iteration-count: 1 !important;
        transition-duration: 0.01ms !important;
        scroll-behavior: auto !important;
      }
    }

    body {
      margin: 0;
      font-family: system-ui, -apple-system, sans-serif;
    }

    .app-header {
      background: #1e293b;
      color: white;
      padding: 1rem;
    }

    [role="list"] {
      list-style: none;
      margin: 0;
      padding: 0;
    }
  </style>

  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" 
        integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" 
        crossorigin="anonymous" media="print" onload="this.media='all'">

  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" 
        integrity="sha512-iecdLmaskl7CVkqkXNQ/ZH/XLlvWZOJyj7Yy7tcenmpD1ypASozpmT/E0iPtmFIB46ZmdtAc9eNBvH0H/ZpiBw==" 
        crossorigin="anonymous" referrerpolicy="no-referrer" media="print" onload="this.media='all'">

  <link rel="manifest" href="/manifest.webmanifest">

  <script type="module" crossorigin src="/assets/index-BELWJF0m.js"></script>
  <link rel="stylesheet" crossorigin href="/assets/index-5MLta6ni.css">
<link rel="manifest" href="/manifest.webmanifest"></head>
<body>
  <div id="network-status" aria-live="polite" class="visually-hidden"></div>

  <a href="#main-content" class="skip-link" id="skip-link">Lompat ke konten utama</a>

  <header class="app-header" style="view-transition-name: header" role="banner">
    <div class="header-container">
      <h1>
        <a href="#/home" aria-label="Beranda SerlokTakParani - Kembali ke halaman utama">
          <span aria-hidden="true">üìå</span> SerlokTakParani
        </a>
      </h1>
      <nav aria-label="Navigasi utama">
        <ul role="list">
          <li>
            <a href="#/home" class="nav-link" aria-current="page">
              <span class="visually-hidden">Halaman saat ini: </span>Beranda
            </a>
          </li>
          <li>
            <a href="#/add-story" class="nav-link">
              <span aria-hidden="true">‚úèÔ∏è</span>
              <span class="visually-hidden">Buat </span>Curhat Baru
            </a>
          </li>
        </ul>
      </nav>
    </div>
  </header>

  <main id="main-content" role="main" tabindex="-1" aria-labelledby="page-title">
    <h1 id="page-title" class="visually-hidden">SerlokTakParani</h1>
  </main>

  <footer role="contentinfo" aria-labelledby="footer-heading">
    <div class="footer-container">
      <h2 id="footer-heading" class="visually-hidden">Informasi footer</h2>
      <p>&copy; <span id="current-year">2025</span> SerlokTakParani - Tempat Curhat Tanpa Dihakimi</p>
    </div>
  </footer>

  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" 
          integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" 
          crossorigin="anonymous" defer></script>
  <script>
    navigator.serviceWorker.register('/sw.js');
    document.getElementById('current-year').textContent = new Date().getFullYear();

    document.addEventListener('DOMContentLoaded', () => {
      const skipLink = document.getElementById('skip-link');
      const mainContent = document.getElementById('main-content');

      if (skipLink && mainContent) {
        skipLink.addEventListener('click', (e) => {
          e.preventDefault();
          mainContent.setAttribute('tabindex', '-1');
          mainContent.focus();

          const scrollBehavior = window.matchMedia('(prefers-reduced-motion: reduce)').matches ? 
            'auto' : 'smooth';

          mainContent.scrollIntoView({ behavior: scrollBehavior });

          const liveRegion = document.createElement('div');
          liveRegion.setAttribute('aria-live', 'polite');
          liveRegion.className = 'visually-hidden';
          liveRegion.textContent = 'Anda sekarang berada di konten utama';
          document.body.appendChild(liveRegion);
          setTimeout(() => document.body.removeChild(liveRegion), 1000);
        });
      }
    });
  </script>
</body>
</html>
